/*
 * Starry Night theme.
 */

:root {
    --color-prettylights-syntax-comment: #8b949e;
    --color-prettylights-syntax-constant: #79c0ff;
    --color-prettylights-syntax-entity: #d2a8ff;
    --color-prettylights-syntax-storage-modifier-import: #c9d1d9;
    --color-prettylights-syntax-entity-tag: #7ee787;
    --color-prettylights-syntax-keyword: #ff7b72;
    --color-prettylights-syntax-string: #a5d6ff;
    --color-prettylights-syntax-variable: #ffa657;
    --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
    --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
    --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
    --color-prettylights-syntax-carriage-return-text: #f0f6fc;
    --color-prettylights-syntax-carriage-return-bg: #b62324;
    --color-prettylights-syntax-string-regexp: #7ee787;
    --color-prettylights-syntax-markup-list: #f2cc60;
    --color-prettylights-syntax-markup-heading: #1f6feb;
    --color-prettylights-syntax-markup-italic: #c9d1d9;
    --color-prettylights-syntax-markup-bold: #c9d1d9;
    --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
    --color-prettylights-syntax-markup-deleted-bg: #67060c;
    --color-prettylights-syntax-markup-inserted-text: #aff5b4;
    --color-prettylights-syntax-markup-inserted-bg: #033a16;
    --color-prettylights-syntax-markup-changed-text: #ffdfb6;
    --color-prettylights-syntax-markup-changed-bg: #5a1e02;
    --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
    --color-prettylights-syntax-markup-ignored-bg: #1158c7;
    --color-prettylights-syntax-meta-diff-range: #d2a8ff;
    --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
    --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
    --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
}

.pl-c {
    color: var(--color-prettylights-syntax-comment);
}

.pl-c1,
.pl-s .pl-v {
    color: var(--color-prettylights-syntax-constant);
}

.pl-e,
.pl-en {
    color: var(--color-prettylights-syntax-entity);
}

.pl-smi,
.pl-s .pl-s1 {
    color: var(--color-prettylights-syntax-storage-modifier-import);
}

.pl-ent {
    color: var(--color-prettylights-syntax-entity-tag);
}

.pl-k {
    color: var(--color-prettylights-syntax-keyword);
}

.pl-s,
.pl-pds,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sre,
.pl-sr .pl-sra {
    color: var(--color-prettylights-syntax-string);
}

.pl-v,
.pl-smw {
    color: var(--color-prettylights-syntax-variable);
}

.pl-bu {
    color: var(--color-prettylights-syntax-brackethighlighter-unmatched);
}

.pl-ii {
    color: var(--color-prettylights-syntax-invalid-illegal-text);
    background-color: var(--color-prettylights-syntax-invalid-illegal-bg);
}

.pl-c2 {
    color: var(--color-prettylights-syntax-carriage-return-text);
    background-color: var(--color-prettylights-syntax-carriage-return-bg);
}

.pl-sr .pl-cce {
    font-weight: bold;
    color: var(--color-prettylights-syntax-string-regexp);
}

.pl-ml {
    color: var(--color-prettylights-syntax-markup-list);
}

.pl-mh,
.pl-mh .pl-en,
.pl-ms {
    font-weight: bold;
    color: var(--color-prettylights-syntax-markup-heading);
}

.pl-mi {
    font-style: italic;
    color: var(--color-prettylights-syntax-markup-italic);
}

.pl-mb {
    font-weight: bold;
    color: var(--color-prettylights-syntax-markup-bold);
}

.pl-md {
    color: var(--color-prettylights-syntax-markup-deleted-text);
    background-color: var(--color-prettylights-syntax-markup-deleted-bg);
}

.pl-mi1 {
    color: var(--color-prettylights-syntax-markup-inserted-text);
    background-color: var(--color-prettylights-syntax-markup-inserted-bg);
}

.pl-mc {
    color: var(--color-prettylights-syntax-markup-changed-text);
    background-color: var(--color-prettylights-syntax-markup-changed-bg);
}

.pl-mi2 {
    color: var(--color-prettylights-syntax-markup-ignored-text);
    background-color: var(--color-prettylights-syntax-markup-ignored-bg);
}

.pl-mdr {
    font-weight: bold;
    color: var(--color-prettylights-syntax-meta-diff-range);
}

.pl-ba {
    color: var(--color-prettylights-syntax-brackethighlighter-angle);
}

.pl-sg {
    color: var(--color-prettylights-syntax-sublimelinter-gutter-mark);
}

.pl-corl {
    color: var(--color-prettylights-syntax-constant-other-reference-link);
    text-decoration: underline;
}

/*
 * CSS specific to rehype-starry-night plugin.
 */

.highlight {
    --highlight-background-color-default: hsl(240deg 20% 2%);
    --highlight-border-color-default: hsl(208deg 21% 12%);
    --highlight-border-radius-default: 12px;
    --highlight-font-mono-default: ui-monospace, monospace;
    --highlight-code-highlight-default: hsl(208deg 19% 13%);

    // ... Actual variables in use.

    --highlight-background-color: var(--highlight-background-color, var(--highlight-background-color-default));
    --highlight-border-color: var(--highlight-border-color, var(--highlight-border-color-default));
    --highlight-border-radius: var(--highlight-border-radius, var(--highlight-border-radius-default));
    --highlight-font-mono: var(--highlight-font-mono, var(--highlight-font-mono-default));
    --highlight-code-highlight: var(--highlight-code-highlight, var(--highlight-code-highlight-default));

    background: var(--highlight-background-color);
    border: 1px solid var(--highlight-border-color);
    border-radius: var(--highlight-border-radius);
}

.highlight:focus-within {
    outline: var(--highlight-border-color) solid 0.25ch;
    outline-offset: -0.125em;
}

.highlight-header {
    display: flex;
    gap: 1ch;
    align-items: center;
    padding: 1ch;
    font-size: 0.8em;
    border-block-end: 1px solid var(--highlight-border-color);
}

.highlight-language {
    padding-inline: 0.75ch;
    font-family: var(--highlight-font-mono);
    background-color: var(--highlight-code-highlight);
    border-radius: calc(var(--highlight-border-radius) / 1.5);
}

.highlight pre {
    overflow-x: auto;
    background-color: transparent;
    border: none;
}

.highlight pre > code {
    display: grid;
    padding-inline: 0;
}

.highlight pre .line {
    padding-inline: 1em;
    border-inline-start: 2px solid transparent;
}

.highlight pre .line:focus:not(:focus-visible),
.highlight pre .line:hover {
    background-color: var(--highlight-code-highlight);
}

.highlight pre .line[data-highlighted] {
    background-color: var(--highlight-code-highlight);
    border-inline-start: 2px solid var(--color-prettylights-syntax-comment);
}

.highlight pre .line[data-highlighted] .line-number {
    color: var(--color-prettylights-syntax-comment);
}

.highlight pre .line .line-number {
    margin-inline-end: 1em;
    color: var(--color-prettylights-syntax-sublimelinter-gutter-mark);
    user-select: none;
}

.highlight pre .line .line-prompt::before {
    display: inline-block;
    width: 1em;
    height: 1em;
    margin-inline-end: 1ch;
    text-decoration: none;
    vertical-align: middle;
    content: '';
    background-color: var(--color-prettylights-syntax-sublimelinter-gutter-mark);
    mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' fill-rule='evenodd' clip-rule='evenodd' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M17.179 5.597C13.491 3.081 5.957 3.057 6.344 8.186c.399 5.287 11.204 1.813 11.566 7.102.369 5.375-8 5.71-11.832 2.666M12.017 2v20'/%3E%3C/svg%3E");
    mask-repeat: no-repeat;
    mask-position: top center;
    mask-size: contain;
}
